<!-- Glassmorphic Popup Container -->
<div id="popup" class="absolute bottom-4 left-4 w-md h-40 sm:w-xs md:w-sm lg:w-md transition-opacity duration-300 opacity-0 invisible
  bg-white/10 backdrop-blur-md border border-white/20 shadow-lg">

    <!-- Close Button -->
    <button id="closePopup" class="absolute right-2 text-gray-300 text-lg hover:text-white">&times;</button>

    <div class="flex h-full">
        <div class="flex-shrink-0 h-full">
            <img
                src="/assets/home.jpg"
                alt="Image"
                width="64"
                height="64"
                class="h-full w-full aspect-square object-cover"
            >
        </div> 

        <div class="flex flex-col justify-center space-y-10 pl-4">
            <p class="text-md text-gray-100">Welcome! Check out our latest deals.</p>
            <h1 class="text-4xl font-bold text-gray-100">25% OFF</h1>
            <a href="#" class="text-sm underline mt-4 text-gray-100">Shop now</a> 
        </div>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  let popup = document.getElementById("popup");
  let closeBtn = document.getElementById("closePopup");

  // Show popup after a slight delay
  setTimeout(() => {
    popup.classList.remove("opacity-0", "invisible");
  }, 1000);

  // Close popup on click
  closeBtn.addEventListener("click", function () {
    popup.classList.add("opacity-0", "invisible");
  });
});
</script>

{% schema %}
{
    "name": "Homepage Popup",
    "settings": [
            {
                "type": "image_picker",
                "id": "main_image",
                "label": "Popup Image"
            },
            {
                "type": "text",
                "id": "large_text",
                "label": "Text Large",
                "default": "25% OFF"
            },
            {
                "type": "text",
                "id": "small_text",
                "label": "Text Small",
                "default": "Welcome! Check out our latest deals."
            },
            {
                "type": "text",
                "id": "link_text",
                "label": "Text Link",
                "default": "Shop now"
            }
        ]
}
{% endschema %}
